<!DOCTYPE html>
<style>
    div.tooltip {
        position: absolute;
        text-align: center;
        display: inline-block;
        height: 14px;
        padding: 7.5px;
        font: 12px sans-serif;
        background: lightsteelblue;
        border: 0px;
        border-radius: 8px;
        pointer-events: none;
    }

    body {
        font-family: 'Roboto';
    }
</style>
<meta charset="utf-8">
<script src="https://d3js.org/d3.v5.min.js"></script>
<script src="https://d3js.org/d3-array.v1.min.js"></script>
<script src="https://d3js.org/d3-geo.v1.min.js"></script>
<script src="https://d3js.org/d3-selection-multi.v1.min.js"></script>

<body>
    <div id="contentWrapper">
        <div id="chartContent" style="text-align: center;">
            <div style="margin-bottom: 2em;">
                <h1 style="color: #AC2B37 ;">WPI's Campus on C20 Mondays</h1>
                <h2>By: JP Bulman, Michael Clements, and DJ Alvarado</h2>
                <a href="#About">About</a>
                <a href="#Sources">Sources</a>
                <a href="#How-To">How to</a>
                <a href="#Walkthrough">Walkthrough</a>
            </div>
            <div id="mainContentWrapper">
                <div style="display: inline-block;" id="svgContainer" style="margin: auto; width: 50%;"></div>
                <div style="display: inline-block; position: absolute; top: 50%;" id="sidebarWrapper">
                    <div>
                        <input type="checkbox" id="overlayPeople">
                        <label for="overlayPeople">Show dots</label>
                    </div>
                    <input type="checkbox" id="overlayHeat">
                    <label for="overlayPeople">Show heatmap</label>
                    <div>
                        <label for="colorPicker">People Color: </label>
                        <input type="color" id="colorPicker">
                    </div>
                </div>
            </div>
            <div style="margin-bottom: 5em;">
                <button id="playButton">&#9658</button>
                <p id="currentTimeText">Current Time: Animation not Started</p>
            </div>

            <h2>Heatmap of Students on Campus</h2>
            <div style="margin-bottom: 5em;" id="my_dataviz"></div>

            <h2>Population Chart for all of Campus at a Given Time</h2>
            <div id="barChartSVGDiv"></div>
            <div>
                <p>On Campus Locations</p>
            </div>
            <div>
                <select style="margin-bottom: 5em;" id="timePicker"></select>
            </div>

            <h2>Individual Population Charts Throughout the day</h2>
            <div id="miniBarChartSVGDiv"></div>
        </div>

        <div>
            <h2 id="About">About</h2>
            <p>For our final project, we surveyed ~60 students from WPI asking them where they are each hour from 8am to
                8pm on Mondays. Above are several visualizations of the data we were able to get. First is an animated
                map that shows people as small dots traveling through campus. Second is a heatmap of the number of
                people in a given place at a given time. Next is an interactive bar graph where you can select a time
                and it will show you the number of people in every building on campus. Finally, there is a series of
                miniature bar graphs, one for each building, that shows the population of the building throughout the
                day.</p>

            <h2 id="How-To">How To</h2>
            <h3>Things to know</h3>
            <p>If an individual marked themselves as 'Off campus or at home' for a certain time, their dot is
                moved to the West Street lot. If someone marked 'Other or not listed', their dot flies to (0, 0). In
                addition, there are some biases to consider. The biggest bias we had stemmed from our sampling
                technique. Since we distributed this to our friends and classmates, our sample deviated slightly from an
                ideal campus population sample. This can be see around 1-3pm where lots of people go to Fuller
                Laboratories - this is just when our data visualization class is held. This is the people from our class
                who filled out the survey bleeding through.
            </p>
            <h3>Using</h3>
            <p>To start the campus animations, simply press the play button. After you have clicked the play button, you
                can click the
                same button (now notated with a pause icon) to pause the animation, and simply click again to resume.
                Uncheck or check the checkboxes to
                the left of the map to either see or disable the people and/or the projected heatmap. Use the color
                picker to change the
                people (flying dots) to a different color. If you want to follow a specific node, simply click on it,
                and its color will change to
                red. If you want to stop following a node, simply click it again, and it will change back to the group
                color. Hover over any of the campus buildings to see their names.
            </p>

            <h2 id="Sources">Sources</h2>
            <p>The source code, data set, and more information can be found on the GitHub <a
                    href="https://github.com/jpbulman/final">page</a> for this project.</p>

            <h2 id="Walkthrough">Walkthrough</h2>
            <div style="text-align: center;">
                <iframe width="966" height="533" src="https://www.youtube.com/embed/aHdIljYxqj4" frameborder="0"
                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen></iframe>
            </div>
        </div>
    </div>
    <div id="tooltipHeatmap"></div>
</body>
<script src="nodes.js"></script>
<script src="large.js"></script>
<script src="smallBC.js"></script>